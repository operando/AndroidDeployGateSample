language: android
jdk:
  - oraclejdk8

env:
  global:
    - secure: "Z6tEdTgY0MdKFKM0UfMI+UsFa7Gitk7bsPzPOLouyaHSDRS1SG9IgoebQLx5MVyt8lUCMuGkpfxwIL9fed0NihSWkhjOlATk17ulhfO5mIhhPk36GFLEzjVvuIpwQ9yaEm6qxhx16sTULkjEkaTNJPjr2ZjbjF1xssdiN427IbfpIrferS8j8N38bXruMK4p39nl42Tya8Su0s1HHf4tb9JtjizRVJ6QdZry6lM5ZzfZDsAiMNTrbk1qEUBQve2ASRK2B7Un6qLgw7Qnz4+l4SmnLzkrw5zVUPI2wWlr1BOGEKU6qIb23zif8pEZnvDdyis2TiTy6LyZVARUG6GlgVYpFuAxaw/ByYBZg2fkljcRH8Aof5LEOnxEtqIBXf5mbcIzj3GlDm0dhr56u3h6QvxWSxP7iaXDz9wgC8FSRxXw/fCimC2gr/kvAexoHHQUjYSsUrQFrVPg27/QP7OV6uqx44XsHl5WwWwwakqnrb7rpfJcRVQ2Wglwbw6UfQkPoH+BMbc7mwOFJegQKixev2+JbmjC/knCOeWj0Q/DINIs2zAKl5+VotLDkJ90BMV7PIbhdHYittGXEeCuqNuuF9GmOhZy6UAw3MnAEhEU2u5o2UpegJgQuQ8beI1D2gyE1jz0XX6TE373v7ARwwMju3VkZK6P0sjEqiZjsu+Uxp8="

android:
  components:
    - tools
    - platform-tools
    - build-tools-23.0.2
    - android-23
    - extra-android-m2repository
    - extra-google-m2repository

sudo: required

before_script:
    - sudo service postgresql stop || true
    - sudo service mysql stop || true
    - sudo service memcached stop || true
    - sudo service bootlogd stop || true
    - sudo service elasticsearch stop || true
    - sudo service mongodb stop || true
    - sudo service neo4j stop || true
    - sudo service cassandra stop || true
    - sudo service riak stop || true
    - sudo service rsync stop || true
    - sudo service x11-common stop || true

script:
    - ./gradlew clean assembleDebug -PdisablePreDex
    - if [[ "$TRAVIS_BRANCH" == "master" ]] && [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then ./gradlew uploadDeployGateDebug fi
cache:
  directories:
    - $HOME/.gradle/wrapper/

